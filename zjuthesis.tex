% Zhejiang University Undergraduate Graduation Thesis/Design Template
% Author: Zixuan Wang
% Email : zxwang42 [at] gmail.com
% Update: https://github.com/TheNetAdmin/zjuthesis/releases

\documentclass[
    StudentName = 何淂劲,
    StudentID   = 21721081,
    AdvisorName = 王锐,
    Grade       = 2017,            % only the year, no '级'
    Major       = 计算机科学与技术,
    Department  = 计算机科学与技术学院,
    Title       = 立体一致的轮廓线的实时绘制,
    SubmitDate  = 递交日期,
    MajorFormat = cs,
    Degree      = graduate,   % 'undergraduate' or 'graduate'
    Type        = thesis,          % 'thesis'   or 'design' or 'equal'(only for graduate)
    Period      = final,           % 'proposal' or 'final'
    BlindReview = false,           % 'false'    or 'true'
    % Below only for 'graduate'
    Topic           = 计算机图形学,
    ColaboratorName = 王锐
]{config/zjuthesis}

\newcommand{\inputfinal}
{
    % Final part
    \newrefsection
    \inputpage{final/cover}
    \inputpage{final/previous}
    \inputpage{final/toc}

    \cleardoublestylepage{previous}
    \ifthenelse{\equal{\Type}{design}}
        {\part{毕业设计}}
        {\part{毕业论文}}
    \inputbody{final/content}

    \inputpage{final/post}

    % Proposal part
    \newrefsection
    \cleardoublestylepage{empty}
    \ifthenelse{\equal{\Type}{design}}
        {\part{毕业设计开题报告}}
        {\part{毕业论文开题报告}}

    \inputpage{proposal/cover}
    \inputpage{proposal/previous}
    \inputbody{proposal/content}
    \inputpage{proposal/post}
}

\newcommand{\inputproposal}
{
    \inputpage{proposal/cover}
    \inputpage{proposal/previous}
    \inputpage{proposal/toc}
    \inputbody{proposal/content}
    \inputpage{proposal/post}
}

\newcommand{\inputgraduate}
{
    \inputpage{cover}
    \inputpage{title}
    \inputpage{title-eng}
    \inputpage{auth-claim}
    \cleardoublestylepage{cover}

    \input{body/definition.tex}
    
    % Previous part
    \pagenumbering{Roman}
    \thispagestyle{previous}
    \pagestyle{previous}
    \setcounter{page}{1}
    
    \inputbody{previous/correction}
    \inputbody{previous/thanksto}
    \inputbody{previous/preface}
    \inputbody{previous/abstract}
    \inputbody{previous/lof}
    \inputbody{previous/term}
    
    % Table of contents
    \inputpage{toc}
    \cleardoublestylepage{plain}
    
    % Main contents
    \thispagestyle{common}
    \pagestyle{common}
    \pagenumbering{arabic}
    \setcounter{page}{1}

    \inputbody{content}

    % Post part
    \inputbody{post/ref}
    \inputbody{post/appendix}
    \inputbody{post/cv}
}

\DefineBibliographyStrings{english}{%
    andothers = {等人}
}

\begin{document}

\ifthenelse{\equal{\Degree}{undergraduate}}
{
    \ifthenelse{\equal{\Period}{final}}
    {
        \inputfinal{}
    }
    {
        \inputproposal{}
    }
}
{
    \inputgraduate{}
}
\end{document}
